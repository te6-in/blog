---
import { $path } from "astro-typesafe-routes/path";
import MainHeader from "../components/MainHeader.astro";
import SnippetList from "../components/SnippetList";
import Layout from "../layouts/Layout.astro";
import { getSnippets } from "../lib/contents";
import { METADATA } from "../lib/metadata";

const snippets = await getSnippets({ sortBy: "publishedAt" });
---

<Layout
  metadataProps={{
    title: `모든 ${METADATA.lexicons.snippets.label}`,
    canonicalUrl: new URL($path({ to: "/snippets" }), Astro.url.origin).href,
  }}
  sidebarProps={{ currentPage: { type: "snippets" } }}
>
  <MainHeader
    class="w-full"
    title={`모든 ${METADATA.lexicons.snippets.label}`}
    titleCount={snippets.length}
  />
  <SnippetList snippets={snippets} />
</Layout>
